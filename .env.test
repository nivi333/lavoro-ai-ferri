# Test Environment Configuration
# This file is used specifically for running automated tests
# DO NOT use production credentials or sensitive data here

# Server Configuration
NODE_ENV=test
PORT=3001
HOST=localhost

# Database Configuration - Test Database
# Use a separate test database to avoid affecting development/production data
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ayphen_test
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSL=false

# DATABASE_URL - Test Database Connection
# Tests should use a dedicated test database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/ayphen_test

# DIRECT_URL - Test Database Direct Connection
DIRECT_URL=postgresql://postgres:postgres@localhost:5432/ayphen_test

# Connection Pool Settings - Reduced for testing
DB_MAX_CONNECTIONS=5
DB_IDLE_TIMEOUT=10000
DB_CONNECTION_TIMEOUT=3000

# Redis Configuration - Test Redis Instance
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=1

# JWT Configuration - Test Secrets (NOT for production)
JWT_SECRET=test-jwt-secret-key-for-automated-tests-only
JWT_REFRESH_SECRET=test-refresh-secret-key-for-automated-tests-only
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# API Configuration
API_VERSION=v1
API_PREFIX=/api

# Rate Limiting - Relaxed for testing
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# CORS Configuration - Allow test origins
CORS_ORIGIN=http://localhost:3002,http://localhost:5173
CORS_CREDENTIALS=true

# Logging Configuration - Reduced logging for tests
LOG_LEVEL=error
LOG_FILE=logs/test.log

# Email Configuration - Mock email service for testing
EMAIL_HOST=smtp.mailtrap.io
EMAIL_PORT=2525
EMAIL_USER=test-user
EMAIL_PASSWORD=test-password
EMAIL_FROM=test@ayphen-textile.com

# File Upload Configuration - Smaller limits for testing
MAX_FILE_SIZE=1048576
UPLOAD_PATH=test-uploads/

# Security Configuration - Reduced rounds for faster tests
BCRYPT_ROUNDS=4
SESSION_SECRET=test-session-secret-for-automated-tests-only

# Multi-tenant Configuration
DEFAULT_TENANT_SCHEMA=public
TENANT_SCHEMA_PREFIX=tenant_

# Test-Specific Configuration
TEST_TIMEOUT=30000
SKIP_EXTERNAL_API_TESTS=true
MOCK_THIRD_PARTY_SERVICES=true
