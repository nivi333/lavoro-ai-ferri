# Backend Production Environment Variables
# Copy this file to .env.production and fill in the values

# ============================================
# DATABASE CONFIGURATION (SUPABASE)
# ============================================
# IMPORTANT: Add ?pgbouncer=true to enable connection pooling for Supabase
DATABASE_URL=postgresql://postgres.aqltcwzryeximjeuohpa:ayphenTextile@aws-1-ap-south-1.pooler.supabase.com:5432/postgres?pgbouncer=true
DIRECT_URL=postgresql://postgres.aqltcwzryeximjeuohpa:ayphenTextile@aws-1-ap-south-1.pooler.supabase.com:5432/postgres

# Database Connection Pool Settings (Optimized for Supabase Free Tier)
DB_MAX_CONNECTIONS=5
DB_IDLE_TIMEOUT=10000
DB_CONNECTION_TIMEOUT=5000

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=production
PORT=10000
HOST=0.0.0.0

# ============================================
# API CONFIGURATION
# ============================================
API_VERSION=v1
API_PREFIX=/api

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ORIGIN=https://ayphentextile.netlify.app

# ============================================
# JWT & AUTHENTICATION
# ============================================
# Generate secure secrets using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=REPLACE_WITH_32_CHAR_RANDOM_STRING
JWT_REFRESH_SECRET=REPLACE_WITH_32_CHAR_RANDOM_STRING
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# SESSION CONFIGURATION
# ============================================
SESSION_SECRET=REPLACE_WITH_32_CHAR_RANDOM_STRING

# ============================================
# REDIS CONFIGURATION
# ============================================
# This will be auto-populated by Render when you link the Redis service
REDIS_URL=redis://your-redis-url-from-render

# ============================================
# SECURITY CONFIGURATION
# ============================================
BCRYPT_ROUNDS=10

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# STRIPE CONFIGURATION (Optional)
# ============================================
# STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
